Data Chen;
input Y X1-X11;
label Y='AVG'  X1='W' X2='ERA'
X3='IP' X4='H' X5='ER' X6='HR'
X7='HB' X8='BB' X9='SO' X10='WHIP'
X11='GO/AO' ;
CARDS;
0.292	0	3.18	5.2	7	2	1	1	1	6	1.41	0.33
0.283	1	3.27	5.1	6	2	0	0	2	4	1.45	0.5
0.261	0	2.6	6.1	5	1	0	0	3	5	1.38	0.61
0.25	1	2.22	7	6	1	1	0	2	4	1.32	0.5
0.25	0	2.76	5	5	3	0	0	3	4	1.36	0.61
0.241	1	2.43	7.2	6	1	0	0	1	5	1.27	0.5
0.231	1	2.45	7	4	2	1	0	2	4	1.2	0.54
0.249	0	3.35	4.1	8	6	2	0	3	5	1.32	0.55
0.25	0	3.31	6	6	2	1	0	1	5	1.31	0.55
0.25	0	3.75	5.2	5	5	1	0	4	5	1.33	0.63
0.252	1	3.49	7	7	1	0	0	0	4	1.3	0.65
0.256	1	3.68	6.1	8	4	1	0	2	4	1.32	0.71
0.256	1	3.36	7	6	0	0	0	1	2	1.29	0.76
0.258	0	3.38	5	6	2	1	0	2	4	1.31	0.77
0.257	0	3.73	6.1	6	6	2	1	3	3	1.32	0.73
0.246	0	3.64	7.1	2	2	1	0	0	9	1.24	0.7
0.248	0	3.93	4	5	5	3	0	3	5	1.27	0.7
0.241	0	3.8	6	2	1	0	0	2	5	1.24	0.71
0.24	1	3.8	7	6	3	0	1	1	5	1.22	0.69
0.237	0	3.82	6.2	4	3	1	0	3	5	1.21	0.72
0.233	1	3.65	5.2	3	0	0	0	4	12	1.22	0.72
0.231	1	3.46	7	5	0	0	0	1	4	1.2	0.74
0.239	0	3.79	4.2	9	7	2	0	1	5	1.23	0.75
0.244	1	3.7	6	9	1	0	0	1	4	1.25	0.78
0.247	1	3.87	5	7	5	2	0	2	4	1.26	0.76
0.244	0	3.78	6	4	1	1	0	1	8	1.25	0.77
0.241	0	3.79	6.2	4	3	1	0	2	4	1.23	0.76
0.243	0	4.06	4.2	6	7	3	1	1	4	1.24	0.75
0.245	0	4	7.1	8	2	0	0	1	7	1.24	0.75
0.246	0	3.98	5.1	6	2	1	0	2	2	1.25	0.76
0.251	0	4.11	5	9	5	2	1	1	3	1.27	0.76
0.25	0	4.02	6.2	6	1	1	0	1	4	1.26	0.75
0.333	0	3.18	5.2	7	2	0	0	0	4	1.24	4
0.279	0	3.75	6.1	5	3	1	0	2	3	1.17	1
0.277	0	4	6	6	3	1	0	1	2	1.17	0.5
0.253	1	3.38	6	3	1	0	1	4	2	1.17	0.43
0.211	1	2.53	8	2	0	0	0	2	5	1	0.36
0.24	0	3.5	4	8	5	1	0	3	6	1.19	0.34
0.258	0	3.4	6.1	9	2	0	0	0	2	1.23	0.5
0.26	1	3.04	5	5	0	0	0	0	3	1.2	0.51
0.244	1	2.82	7	3	1	0	0	3	4	1.16	0.54
0.252	1	2.67	6.1	8	1	0	0	2	3	1.2	0.55
0.251	0	2.78	7.1	7	3	2	0	0	3	1.18	0.56
0.251	1	2.87	7.1	7	3	0	0	1	9	1.17	0.59
0.247	0	2.95	7	5	3	1	0	3	5	1.17	0.63
0.245	0	3.06	6	5	3	0	0	1	2	1.15	0.65
0.244	0	3.23	6.1	5	4	2	0	1	7	1.14	0.65
0.244	1	3.19	7	6	2	2	0	3	3	1.15	0.68
0.254	0	3.76	3.2	8	8	2	1	3	5	1.22	0.66
0.254	0	3.87	4	4	3	0	0	5	5	1.25	0.66
0.254	0	3.82	6	6	2	1	0	0	8	1.24	0.67
0.255	0	3.99	6.1	7	5	2	0	2	9	1.25	0.7
0.264	0	4.03	5.2	11	3	2	0	0	5	1.28	0.69
0.267	0	4.03	4.1	6	2	0	0	2	4	1.3	0.69
0.272	0	4.07	5.1	9	3	0	0	1	5	1.32	0.69
0.444	0	6.35	5.2	12	4	0	0	0	5	2.12	0.43
0.412	1	6.75	5	9	4	1	0	0	3	1.97	0.57
0.351	1	4.76	6.1	5	1	0	0	2	4	1.65	0.8
0.33	1	4.91	5	4	3	0	0	3	5	1.59	0.88
0.325	0	4.34	7	9	2	0	0	2	6	1.59	0.94
0.317	0	4.24	5	6	2	1	0	1	5	1.56	0.97
0.301	1	3.95	7	5	2	1	0	1	4	1.44	0.93
0.305	1	3.69	5.1	7	1	0	0	1	1	1.45	1.02
0.304	0	4.08	6.2	8	5	1	0	0	1	1.42	1.13
0.306	0	4.5	5	7	5	3	0	0	6	1.41	1.13
0.298	1	4.26	5.1	4	1	0	0	1	6	1.37	1.09
0.291	0	4.13	6.1	5	2	2	1	0	4	1.32	1.08
0.284	1	3.76	7	4	0	0	1	0	7	1.25	1.05
0.281	0	3.78	6.2	6	3	2	0	1	3	1.24	0.95
0.28	0	3.84	5.2	6	3	1	0	2	3	1.25	0.97
0.287	0	4.19	3.1	7	5	3	0	2	2	1.3	0.93
0.284	1	4.12	6	6	2	1	0	2	4	1.3	0.95
0.287	1	4.15	5.2	8	3	1	1	0	6	1.31	0.99
0.286	1	4.21	5	5	3	1	0	1	4	1.3	0.93
0.279	1	3.92	8	5	0	0	0	1	3	1.26	0.95
0.274	1	3.76	7.1	5	1	0	0	1	8	1.24	0.96
0.277	0	3.9	5	8	4	1	0	2	6	1.27	0.94
0.272	0	3.76	7	4	1	1	0	1	6	1.24	0.95
0.269	1	3.76	7.1	6	3	1	0	1	7	1.23	0.93
0.272	0	3.76	4.2	7	2	0	0	3	0	1.25	0.92
0.273	1	3.83	6.2	8	4	1	0	0	7	1.25	0.91
0.271	0	3.69	6	4	0	0	0	3	3	1.25	0.9
0.265	1	3.59	7	3	1	1	0	0	4	1.21	0.86
0.268	1	3.58	5.2	9	2	0	0	1	6	1.23	0.86
0.268	0	3.56	6	6	2	0	0	2	4	1.24	0.88
0.266	0	3.54	6	5	2	0	0	1	3	1.23	0.89
0.235	0	6.23	4.1	4	3	1	1	2	4	1.38	1.25
0.216	0	4.35	6	4	2	2	1	1	4	1.06	1.2
0.212	0	3.07	4.1	3	0	0	1	5	3	1.3	1.06
0.19	0	2.78	8	4	2	1	0	1	5	1.06	0.96
0.216	0	2.83	6	7	2	1	0	2	4	1.15	0.85
0.213	1	2.52	7	5	1	0	0	1	7	1.09	0.88
0.211	0	2.53	7	5	2	1	0	2	7	1.08	0.9
0.221	0	2.9	7	8	4	1	0	0	4	1.09	0.89
0.248	0	3.13	5	11	3	1	0	0	6	1.19	0.9
0.243	0	3.21	7	5	3	2	0	1	4	1.15	0.91
0.241	0	3.18	6.1	5	2	1	0	2	9	1.15	0.82
0.25	1	3.21	5	7	2	0	0	1	5	1.18	0.8
0.242	1	2.89	8	4	0	0	0	1	9	1.12	0.91
0.245	0	2.9	6	7	2	2	0	2	5	1.15	0.94
0.237	1	2.84	8	4	2	2	0	1	2	1.11	0.91
0.233	0	2.82	7	4	2	2	0	3	5	1.1	0.94
0.235	0	2.78	8	8	2	0	0	0	7	1.09	0.95
0.243	0	2.86	6.1	10	3	0	0	0	3	1.12	0.94
0.244	1	2.88	5.1	6	2	2	1	1	3	1.13	0.92
0.256	0	3.24	3.1	10	6	3	0	0	6	1.18	0.93
0.255	0	3.32	5	4	3	0	0	4	4	1.19	0.97
0.249	1	3.21	7.1	3	1	1	0	2	5	1.17	0.97
0.252	1	3.2	6	8	2	1	0	0	7	1.17	0.93
0.253	0	3.13	6	7	1	0	0	2	3	1.19	0.93
0.259	1	3.17	6.2	10	3	0	0	1	4	1.21	0.95
0.265	0	3.36	4.2	9	5	2	0	0	4	1.23	0.96
0.268	0	3.48	5	9	4	2	0	1	5	1.25	0.94
0.267	1	3.44	7	6	2	0	0	0	2	1.23	0.94
0.266	1	3.36	7	6	1	0	1	0	7	1.22	0.96
0.264	0	3.35	5.2	5	2	0	0	2	7	1.22	0.96
0.262	1	3.34	6	4	2	0	0	3	3	1.22	0.95
0.182	1	3	6	4	2	0	0	3	3	1.17	0.67
;

proc corr data = Chen;
var Y X1 - X11;
run;

proc gplot data=Chen;
plot Y*(X1 X2 X3 X4 X5 X6 X7 X8 X9 X10 X11);
symbol1 v=dot c=red;
run;

proc reg;
model Y= X1 -X11/vif;
run;

model Y=X1 -X11 /p r  influence clm cli dw vif; 
output out=all student=student rstudent=rstudent;
PLOT Y*(X1 X2 X3 X4 X5 X6 X7 X8 X9 X10 X11)   / cframe=ligr;
PLOT Y*(X1 X2 X3 X4 X5 X6 X7 X8 X9 X10 X11)  / pred cframe=ligr;   
PLOT residual. * predicted.  ;
PLOT student.  * predicted.  / vref= -3  3  cvref=blue lvref=1  ;
PLOT student.  *obs.             /*'Check for Outlying Observations' */
           / vref= -3  3  cvref=blue lvref=1 
             href= 0 to 25 by 5 chref=red  cframe=ligr; 
PLOT rstudent.  * predicted.  / vref= -3  3  cvref=blue lvref=1  ;
PLOT rstudent.  *obs.             /*'Check for Outlying Observations' */
           / vref= -3  3  cvref=blue lvref=1 
             href= 0 to 25 by 5 chref=red  cframe=ligr;
/*p: predicted value 
r: residuals 
clm: a confidence interval for a mean value of y
cli  : a predictive interval for an individual value of y 
dw: Durbin-Watson statistics
vif: variance inflaction factor */
proc univariate normal plot data=all;
var student;
histogram student / cfill=ltgray  kernel(color=red)  ;
run;

proc reg data=Chen;
model Y=   X1-X11/selection=backward slstay=0.15;
model Y=   X1-X11/selection=forward slentry=0.15;
model Y=   X1-X11/selection=stepwise;
model Y=   X1-X11/selection=adjrsq;
model Y=   X1-X11/selection=cp;
  plot cp.*np. 
           / chocking=red  cmallows=blue 
             vaxis= 2 to 12 haxis= 4 to 12 cframe=ligr; 
symbol1 v=dot  c=blue;
run;

proc reg data=Chen  plots(label)=(CooksD RStudentByLeverage DFFITS DFBETAS);
model Y=X1-X11/p r influence dw VIF;
run;
quit;
